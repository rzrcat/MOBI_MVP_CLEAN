(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},57526:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(35480),t(38482),t(7629),t(12523);var r=t(23191),a=t(88716),l=t(37922),i=t.n(l),n=t(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,35480)),"/Users/s/Desktop/dev/mobi.gg/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,38482)),"/Users/s/Desktop/dev/mobi.gg/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"/Users/s/Desktop/dev/mobi.gg/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"/Users/s/Desktop/dev/mobi.gg/src/app/not-found.tsx"]}],d=["/Users/s/Desktop/dev/mobi.gg/src/app/page.tsx"],m="/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98341:(e,s,t)=>{Promise.resolve().then(t.bind(t,53167))},53167:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var r=t(10326),a=t(60114),l=t(85251);let i=(0,a.Ue)()((0,l.tJ)(e=>({characters:[],selectedCharacterId:null,addCharacter:s=>e(e=>({characters:[...e.characters,s],selectedCharacterId:s.id})),updateCharacter:(s,t)=>e(e=>({characters:e.characters.map(e=>e.id===s?{...e,...t}:e)})),deleteCharacter:s=>e(e=>{let t=e.characters.filter(e=>e.id!==s);return{characters:t,selectedCharacterId:e.selectedCharacterId===s&&t.length>0?t[0].id:0===t.length?null:e.selectedCharacterId}}),selectCharacter:s=>e({selectedCharacterId:s})}),{name:"character-storage"}));var n=t(17577),o=t.n(n);let c=[{id:"daily-cashshop-free",title:"캐시샵 매일 무료 상품",description:"(계정 1회) 캐시샵에서 매일 무료 상품 1회 수령. 갱신한 아이템 목록은 계정 공유",type:"daily",scope:"account",maxCompletions:1,category:"캐시샵"},{id:"daily-gem-chest",title:"조각난 보석 보물상자",description:"(계정 1회) 캐시샵 - 골드 - 조각난 보석 보물상자",type:"daily",scope:"account",maxCompletions:1,category:"캐시샵"},{id:"daily-dungeon",title:"요일 던전",description:"요일별 전용 던전 1회 클리어",type:"daily",scope:"character",maxCompletions:1,category:"던전"},{id:"daily-blackhole",title:"검은 구멍",description:"30분 단위로 생성",type:"daily",scope:"character",maxCompletions:3,category:"사냥터"},{id:"daily-summon-barrier",title:"불길한 소환의 결계",description:"불길한 소환의 결계 2회 클리어 (3시간 간격 입장)",type:"daily",scope:"character",maxCompletions:2,category:"사냥터"},{id:"daily-tower",title:"망령의 탑",description:"망령의 탑 1회 클리어",type:"daily",scope:"character",maxCompletions:1,category:"던전"},{id:"daily-huntboss-wolf",title:"늑대의 숲 보스",description:"늑대의 숲 보스 각 난이도별 1회 처치",type:"daily",scope:"character",maxCompletions:3,category:"사냥터",difficulties:[{key:"normal",label:"일반",missionId:"daily-huntboss-wolf-normal"},{key:"hard",label:"어려움",missionId:"daily-huntboss-wolf-hard"},{key:"very",label:"매우 어려움",missionId:"daily-huntboss-wolf-very"}]},{id:"daily-huntboss-goddess",title:"여신의 뜰 보스",description:"여신의 뜰 보스 각 난이도별 1회 처치",type:"daily",scope:"character",maxCompletions:3,category:"사냥터",difficulties:[{key:"normal",label:"일반",missionId:"daily-huntboss-goddess-normal"},{key:"hard",label:"어려움",missionId:"daily-huntboss-goddess-hard"},{key:"very",label:"매우 어려움",missionId:"daily-huntboss-goddess-very"}]},{id:"daily-huntboss-ice",title:"얼음협곡 보스",description:"얼음협곡 보스 각 난이도별 1회 처치",type:"daily",scope:"character",maxCompletions:3,category:"사냥터",difficulties:[{key:"normal",label:"일반",missionId:"daily-huntboss-ice-normal"},{key:"hard",label:"어려움",missionId:"daily-huntboss-ice-hard"},{key:"very",label:"매우 어려움",missionId:"daily-huntboss-ice-very"}]},{id:"weekly-fieldboss-peri",title:"필드보스 - 페리",description:"필드보스 페리 1회 처치",type:"weekly",scope:"character",maxCompletions:1,category:"사냥터"},{id:"weekly-fieldboss-krab",title:"필드보스 - 크라브바흐",description:"필드보스 크라브바흐 1회 처치",type:"weekly",scope:"character",maxCompletions:1,category:"사냥터"},{id:"weekly-fieldboss-krama",title:"필드보스 - 크라마",description:"필드보스 크라마 1회 처치",type:"weekly",scope:"character",maxCompletions:1,category:"사냥터"},{id:"weekly-token-exchange",title:"마물 퇴치증표 교환",description:"티르코네일, 던바튼, 콜헨에서 마물 퇴치증표 1회 교환",type:"weekly",scope:"character",maxCompletions:1,category:"교환"},{id:"weekly-raid-glass",title:"레이드 - 글라스 기브넨",description:"레이드(입문) 글라스 기브넨 1회 클리어",type:"weekly",scope:"character",maxCompletions:1,category:"레이드"},{id:"weekly-abyss-ruin",title:"어비스 던전 - 가라앉은 유적",description:"어비스 던전 가라앉은 유적 1회 클리어",type:"weekly",scope:"character",maxCompletions:1,category:"던전"},{id:"weekly-abyss-altar",title:"어비스 던전 - 무너진 제단",description:"어비스 던전 무너진 제단 1회 클리어",type:"weekly",scope:"character",maxCompletions:1,category:"던전"},{id:"weekly-abyss-hall",title:"어비스 던전 - 파멸의 전당",description:"어비스 던전 파멸의 전당 1회 클리어",type:"weekly",scope:"character",maxCompletions:1,category:"던전"}],d=(0,a.Ue)()((0,l.tJ)((e,s)=>({characterMissionProgress:{},getMissionProgress:(e,t)=>{let r=s().characterMissionProgress[e]||{};return r[t]?r[t]:{completionCount:0,isComplete:!1}},checkMission:(s,t)=>{e(e=>{let r=e.characterMissionProgress[s]||{},a=c.find(e=>e.id===t);if(!a)return{};let l=Math.min((r[t]||{completionCount:0,isComplete:!1}).completionCount+1,a.maxCompletions);return{characterMissionProgress:{...e.characterMissionProgress,[s]:{...r,[t]:{completionCount:l,isComplete:l>=a.maxCompletions}}}}})},resetAllMissions:s=>{e(e=>{let t={};return c.forEach(e=>{t[e.id]={completionCount:0,isComplete:!1},e.difficulties&&e.difficulties.forEach(e=>{t[e.missionId]={completionCount:0,isComplete:!1}})}),{characterMissionProgress:{...e.characterMissionProgress,[s]:t}}})},setMissionCount:(s,t,r)=>{e(e=>{let a=e.characterMissionProgress[s]||{},l=c.find(e=>e.id===t),i=l?.maxCompletions??1;if(l||(l=c.find(e=>e.difficulties?.some(e=>e.missionId===t)),i=1),!l)return{};let n=Math.max(0,Math.min(r,i));return{characterMissionProgress:{...e.characterMissionProgress,[s]:{...a,[t]:{completionCount:n,isComplete:n>=i}}}}})},setMultipleMissionCounts:(s,t)=>{e(e=>{let r={...e.characterMissionProgress[s]||{}};return t.forEach(({missionId:e,count:s})=>{let t=c.find(s=>s.id===e),a=t?.maxCompletions??1;if(t||(t=c.find(s=>s.difficulties?.some(s=>s.missionId===e)),a=1),!t)return;let l=Math.max(0,Math.min(s,a));r[e]={completionCount:l,isComplete:l>=a}}),{characterMissionProgress:{...e.characterMissionProgress,[s]:r}}})}}),{name:"character-mission-progress"}));function m(e){let s={};return e.forEach(e=>{let t=e.category||"기타";s[t]||(s[t]=[]),s[t].push(e)}),s}function x({description:e}){let[s,t]=(0,n.useState)(!1);return(0,r.jsxs)("span",{className:"relative inline-block align-middle",children:[r.jsx("span",{className:"ml-1 text-blue-400 cursor-pointer select-none",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onClick:()=>t(e=>!e),children:"?"}),s&&r.jsx("div",{className:"absolute z-10 left-1/2 -translate-x-1/2 mt-2 w-max max-w-xs bg-black text-white text-xs rounded px-2 py-1 shadow-lg whitespace-pre-line",children:e})]})}let u={cardBase:"flex items-center gap-3 p-2 sm:p-3 bg-white rounded-lg border shadow-sm cursor-pointer select-none transition-all duration-150 hover:shadow-md focus:ring-2 focus:ring-blue-200 active:bg-gray-50",cardTitleText:"font-semibold text-base truncate",cardDescText:"text-xs text-gray-500 truncate",cardDone:"opacity-60"},p={blue:{cardBorder:"border-blue-200",cardTitle:"text-blue-700",cardCategory:"border-l-4 pl-2 border-blue-200 text-blue-700",textTitle:"text-blue-700"},green:{cardBorder:"border-green-200",cardTitle:"text-green-700",cardCategory:"border-l-4 pl-2 border-green-200 text-green-700",textTitle:"text-green-700"},purple:{cardBorder:"border-purple-200",cardTitle:"text-purple-700",cardCategory:"border-l-4 pl-2 border-purple-200 text-purple-700",textTitle:"text-purple-700"},pink:{cardBorder:"border-pink-200",cardTitle:"text-pink-700",cardCategory:"border-l-4 pl-2 border-pink-200 text-pink-700",textTitle:"text-pink-700"},orange:{cardBorder:"border-orange-200",cardTitle:"text-orange-700",cardCategory:"border-l-4 pl-2 border-orange-200 text-orange-700",textTitle:"text-orange-700"},gray:{cardBorder:"border-gray-200",cardTitle:"text-gray-700",cardCategory:"border-l-4 pl-2 border-gray-200 text-gray-700",textTitle:"text-gray-700"}};function h({size:e=32,color:s="#FFD600",bg:t="rgba(0,0,0,0.2)"}){return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",children:[r.jsx("circle",{cx:"24",cy:"24",r:"20",fill:t}),r.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:s,strokeWidth:"4",fill:"none"}),r.jsx("path",{d:"M16 25L22 31L33 18",stroke:s,strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})}function g({mission:e,progress:s,themeColor:t,themeClasses:a,onSetMissionCount:l}){return(0,r.jsxs)("div",{className:[u.cardBase,a.cardBorder,s.isComplete?u.cardDone:""].join(" "),style:"custom"===t?{borderColor:t}:{},tabIndex:0,onClick:()=>{let t=s.isComplete?0:1;l(e.id,t)},children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:s.isComplete?r.jsx(h,{size:32}):r.jsx("span",{className:"w-6 h-6 flex-none rounded-full border-2 border-gray-300 flex items-center justify-center"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",children:[r.jsx("span",{className:[u.cardTitleText,s.isComplete?"line-through text-gray-400":""].join(" "),children:e.title}),(0,r.jsxs)("span",{className:u.cardDescText,children:[e.description,e.description?r.jsx(x,{description:e.description}):null]})]})]},e.id)}function b({total:e,completed:s,color:t="blue",customColor:a,onClick:l}){let i={blue:["bg-blue-200","bg-blue-300","bg-blue-400","bg-blue-500","bg-blue-600","bg-blue-700"],green:["bg-green-200","bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700"],purple:["bg-purple-200","bg-purple-300","bg-purple-400","bg-purple-500","bg-purple-600","bg-purple-700"],pink:["bg-pink-200","bg-pink-300","bg-pink-400","bg-pink-500","bg-pink-600","bg-pink-700"],orange:["bg-orange-200","bg-orange-300","bg-orange-400","bg-orange-500","bg-orange-600","bg-orange-700"],gray:["bg-gray-200","bg-gray-300","bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700"]};if("custom"===t&&a)return r.jsx("div",{className:"battery-bar flex gap-1 w-full max-w-[10rem] h-7 select-none",children:Array.from({length:e}).map((e,t)=>r.jsx("button",{type:"button","aria-label":`${t+1}회차 ${t<s?"완료":"미완료"}`,className:`flex-1 h-full min-w-[2.2rem] rounded border transition-colors duration-100 ${t<s?"":"bg-gray-100 border-gray-300"} ${l?"cursor-pointer hover:ring-2 hover:ring-blue-300 focus:ring-2 focus:ring-blue-400":""}`,style:t<s?{background:a,borderColor:a}:{},onClick:l?()=>l(t):void 0,tabIndex:0},t))});let n=i[t]||i.blue,o={blue:"border-blue-200",green:"border-green-200",purple:"border-purple-200",pink:"border-pink-200",orange:"border-orange-200",gray:"border-gray-200"}[t]||"border-blue-200";return r.jsx("div",{className:"battery-bar flex gap-1 w-full max-w-[10rem] h-7 select-none",children:Array.from({length:e}).map((e,t)=>r.jsx("button",{type:"button","aria-label":`${t+1}회차 ${t<s?"완료":"미완료"}`,className:`flex-1 h-full min-w-[2.2rem] rounded border ${o} transition-colors duration-100 ${t<s?n[Math.min(t,n.length-1)]:"bg-gray-100"} ${l?"cursor-pointer hover:ring-2 hover:ring-blue-300 focus:ring-2 focus:ring-blue-400":""}`,style:{minWidth:0},onClick:l?()=>l(t):void 0,tabIndex:0},t))})}function y({mission:e,progress:s,themeColor:t,themeClasses:a,onSetMissionCount:l}){let{cardBorder:i}=a;return(0,r.jsxs)("div",{className:[u.cardBase,i,s.isComplete?u.cardDone:"","justify-between min-h-[3.5rem]"].join(" "),style:"custom"===t?{borderColor:t}:{},tabIndex:0,onClick:()=>{let t=s.isComplete?0:e.maxCompletions;l(e.id,t)},children:[(0,r.jsxs)("div",{className:"flex flex-col items-center min-w-[3.5rem]",children:[r.jsx(b,{total:e.maxCompletions,completed:s.completionCount,color:["blue","green","purple","pink","orange","gray"].includes(t)?t:"custom",customColor:["blue","green","purple","pink","orange","gray"].includes(t)?void 0:t,onClick:t=>{let r=s.completionCount===t+1?t:t+1;l(e.id,r)}}),(0,r.jsxs)("span",{className:"text-xs text-gray-400 mt-0.5",children:[s.completionCount,"/",e.maxCompletions]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",children:[r.jsx("span",{className:[u.cardTitleText,s.isComplete?"line-through text-gray-400":""].join(" "),children:e.title}),(0,r.jsxs)("span",{className:u.cardDescText,children:[e.description,e.description?r.jsx(x,{description:e.description}):null]})]})]},e.id)}function f({mission:e,themeColor:s,themeClasses:t,getMissionProgress:a,setMissionCount:l,setMultipleMissionCounts:i}){let n=e.difficulties.map(e=>a(e.missionId)),o=n.filter(e=>e.isComplete).length,c=o===e.difficulties.length;return(0,r.jsxs)("div",{className:[u.cardBase,t.cardBorder,c?u.cardDone:"","justify-between min-h-[3.5rem]"].join(" "),style:"custom"===s?{borderColor:s}:{},tabIndex:0,onClick:()=>{i(e.difficulties?e.difficulties.map(e=>({missionId:e.missionId,count:c?0:1})):[])},children:[(0,r.jsxs)("div",{className:"flex flex-col items-center min-w-[3.5rem]",children:[r.jsx(b,{total:e.difficulties.length,completed:o,color:["blue","green","purple","pink","orange","gray"].includes(s)?s:"custom",customColor:["blue","green","purple","pink","orange","gray"].includes(s)?void 0:s,onClick:s=>{if(e.difficulties&&s<e.difficulties.length){let t=n.filter(e=>e.isComplete).length===s+1?s:s+1;e.difficulties.forEach((e,s)=>{l(e.missionId,s<t?1:0)})}}}),(0,r.jsxs)("span",{className:"text-xs text-gray-400 mt-0.5",children:[o,"/",e.difficulties.length]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",children:[r.jsx("span",{className:[u.cardTitleText,c?"line-through text-gray-400":""].join(" "),children:e.title}),(0,r.jsxs)("span",{className:u.cardDescText,children:[e.description,e.description?r.jsx(x,{description:e.description}):null]})]})]},e.id)}function j({characterId:e,themeColor:s="blue",showDaily:t=!0,showWeekly:a=!0}){let{dailyMissions:l,weeklyMissions:i,dailyProgress:n,weeklyProgress:o,getMissionProgress:x,setMissionCount:u,setMultipleMissionCounts:h}=function(e){let{getMissionProgress:s,resetAllMissions:t,setMissionCount:r,setMultipleMissionCounts:a}=d(),{dailyMissions:l,weeklyMissions:i,dailyByCategory:n,weeklyByCategory:o}=function(){let e=c.filter(e=>"daily"===e.type),s=c.filter(e=>"weekly"===e.type);return{dailyMissions:e,weeklyMissions:s,dailyByCategory:m(e),weeklyByCategory:m(s)}}(),x=t=>(function(e,s){let t=e.length,r=e.filter(e=>s(e.id).isComplete).length;return{total:t,completed:r,percent:t?Math.round(r/t*100):0}})(t,t=>s(e,t)),u=x(l),p=x(i);return{dailyMissions:l,weeklyMissions:i,dailyByCategory:n,weeklyByCategory:o,dailyProgress:u,weeklyProgress:p,getMissionProgress:t=>s(e,t),resetAllMissions:()=>t(e),setMissionCount:(s,t)=>r(e,s,t),setMultipleMissionCounts:s=>a(e,s)}}(e),b=Object.keys(p).includes(s)?{...p[s],isDefaultColor:!0}:{cardBorder:"",cardTitle:"",cardCategory:"border-l-4 pl-2",textTitle:"",isDefaultColor:!1},j=d(e=>e.resetAllMissions),v=e=>!!e.difficulties&&e.difficulties.length>0,N=e=>e.maxCompletions>1&&!v(e),C=s=>{j(e);let t=new Date().toISOString();"daily"===s?localStorage.setItem(`lastDailyReset_${e}`,t):localStorage.setItem(`lastWeeklyReset_${e}`,t)};return(0,r.jsxs)("div",{className:"space-y-6",children:[t&&(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:`text-lg font-bold ${b.textTitle}`,children:"일일 미션"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm",children:[n.completed,"/",n.total," (",n.percent,"%)"]}),r.jsx("button",{className:"ml-2 px-2 py-1 text-xs rounded bg-gray-100 hover:bg-gray-200 border border-gray-300",onClick:()=>C("daily"),children:"초기화"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>v(e)?r.jsx(f,{mission:e,themeColor:s,themeClasses:b,getMissionProgress:x,setMissionCount:u,setMultipleMissionCounts:h},e.id):N(e)?r.jsx(y,{mission:e,progress:x(e.id),themeColor:s,themeClasses:b,onSetMissionCount:u},e.id):r.jsx(g,{mission:e,progress:x(e.id),themeColor:s,themeClasses:b,onSetMissionCount:u},e.id))})]}),a&&(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:`text-lg font-bold ${b.textTitle}`,children:"주간 미션"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm",children:[o.completed,"/",o.total," (",o.percent,"%)"]}),r.jsx("button",{className:"ml-2 px-2 py-1 text-xs rounded bg-gray-100 hover:bg-gray-200 border border-gray-300",onClick:()=>C("weekly"),children:"초기화"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>v(e)?r.jsx(f,{mission:e,themeColor:s,themeClasses:b,getMissionProgress:x,setMissionCount:u,setMultipleMissionCounts:h},e.id):N(e)?r.jsx(y,{mission:e,progress:x(e.id),themeColor:s,themeClasses:b,onSetMissionCount:u},e.id):r.jsx(g,{mission:e,progress:x(e.id),themeColor:s,themeClasses:b,onSetMissionCount:u},e.id))})]})]})}t(46226);class v extends n.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("컴포넌트 에러:",e,s),this.props.onError&&this.props.onError(e,s)}render(){if(this.state.hasError){var e;return this.props.fallback?this.props.fallback:(0,r.jsxs)("div",{className:"p-4 border rounded-md bg-red-50 border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:"컴포넌트 로드 중 문제가 발생했습니다"}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:(e=this.state.error)?500===e.status?`서버 연결에 문제가 있습니다. (에러코드: 500)`:403===e.status?`권한이 없습니다. (에러코드: 403)`:"Network Error"===e.message?`인터넷 연결을 확인해주세요. (에러코드: NETWORK_ERROR)`:e.status?`오류가 발생했습니다. (에러코드: ${e.status})`:`오류가 발생했습니다. (${e.message||e.code||"UNKNOWN"})`:"알 수 없는 오류가 발생했습니다."}),r.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"다시 시도"})]})}return this.props.children}}let N=["12:00","18:00","20:00","22:00"];function C(){let[e,s]=(0,n.useState)("테스트 알림"),[t,a]=(0,n.useState)("이것은 테스트 알림입니다."),[l,i]=(0,n.useState)("barrier"),[c,d]=(0,n.useState)(10),[m,x]=(0,n.useState)(5),[u,p]=(0,n.useState)(!0),[h,g]=(0,n.useState)(N),[b,y]=(0,n.useState)(!0),[f,j]=(0,n.useState)(!1),[v,C]=(0,n.useState)("12:00"),[k,w]=(0,n.useState)([]),[M,A]=(0,n.useState)(1),I=o().useRef(null),[E,S]=(0,n.useState)(!1),B=e=>{i(e),"boss"===e?(s("보스 알림"),a("보스가 곧 출현합니다! 준비하세요.")):"barrier"===e?(s("결계 시작 알림"),a("결계가 곧 시작됩니다!")):"custom"===e&&(s("사용자 알림"),a("사용자 알림입니다."))},T=e=>{h.includes(e)?g(h.filter(s=>s!==e)):g([...h,e])},D=async()=>{if(!("serviceWorker"in navigator)){alert("서비스워커를 지원하지 않는 브라우저입니다.");return}if("granted"!==await Notification.requestPermission()){alert("알림 권한이 필요합니다.");return}try{if("boss"===l){if(0===h.length){alert("적어도 하나 이상의 보스 출현 시간을 선택해주세요.");return}let e=h.sort().map(e=>`${e} (${c}분 전${u?`, ${m}분 전`:""})`);alert(`다음 보스 출현 시간에 알림이 설정되었습니다:
${e.join("\n")}`)}else"barrier"===l?(alert(`${c}분 전 1차 알림이 설정되었습니다.`),u&&alert(`${m}분 전 2차 알림도 설정되었습니다.`)):P()}catch(e){alert("알림 발송 중 오류가 발생했습니다: "+(e instanceof Error?e.message:e))}},P=async()=>{try{let s=await navigator.serviceWorker.ready;q(),s.active?s.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:e,body:t}}):"showNotification"in s?s.showNotification(e,{body:t,icon:"/images/icons/icon-192.png",badge:"/images/icons/icon-192.png"}):alert("알림을 표시할 수 없습니다. 브라우저를 다시 시작해 주세요.")}catch(e){alert("알림 발송 중 오류가 발생했습니다: "+(e instanceof Error?e.message:e))}},q=()=>{try{I.current&&(I.current.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLHOw0uCpUw8HFVyNswD/92UNChhTeKEOFgVMEwIMJ1RvcTkUABAJBjM/JSFLhcTcq2QZCFmLvPvvh0ICKHey3fasbxQGMGuZxO3SfiwEDThqiLitYw8bChhJcZOWfEgaJUdwg4RtVDRHbqCkfU4LBwonWICThWI8Hxc3bLjewIExCRIHTnmdr5JlQxoMDiRpvfLNdxkJFDBjnruDVS5BZo+VdVAvFgcOH0lzmKyOaEMTBApRptXirWcHChIcTI+9sXpEHQQVK1uJt7mUakUVCQ8zV5vS6bpjCwYQK2l9kJeWdGhCHQgECzRnmczxvGYOAwcmW5Sxuoh3XDwsCgQHK16i4vzCZwoACClkkMLmrGQQBAIaQ4HB8s13EAEFKmuYvaM+EQVPjKqRTxQECChRj9LqsGIMaqqXWBEDCjJikNDosWYaFjs6HTYmXJ3L4q5eDwEEI2mpyrGINxQMVYSYgUQTAx5SksrpqVwSERIhZKTEqWEkRHGJgjkYBh1ZnN/1rFQAzLd9NQwXK16KrsaBNw87cacxCQYkW5Czlk8QEy9heIFqYTtJdaGibjsRChVFgMLhu10ACjRrqMWgSwcSRWsZ0tSicx9Qha8zBgBZqN1nBgxLjsNcAwAgUICiUDIRB7eYMw1Lj8gAACBKfblUFwYHDFCO1LAAABtJer1fHgMA1tIAAHSiRBQKAuH/wFgUDqcAADCCTrBbGyMv/a43JwLQ7rC5Tg8ACUA/hFMwGARCqqsGAItdMRkO+qMFAA==",I.current.oncanplaythrough=()=>{I.current?.play().catch(e=>{console.error("알림음 재생 실패:",e),S(!0)})},I.current.onerror=()=>{console.error("알림음 로드 실패"),S(!0)})}catch(e){console.error("알림음 재생 중 오류:",e),S(!0)}},F=e=>{w(k.filter(s=>s.id!==e))};return(0,r.jsxs)("div",{className:"p-3 sm:p-4 border rounded bg-white dark:bg-gray-800 w-full max-w-md mx-auto my-4 sm:my-8 shadow-md sm:shadow-lg",children:[r.jsx("h2",{className:"text-base sm:text-lg font-bold mb-3",children:"푸시 알림 설정"}),E&&r.jsx("div",{className:"mb-3 p-2 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded text-xs",children:"알림음 재생에 문제가 발생했습니다. 사용 중인 브라우저에서 자동 재생이 차단되었거나 지원되지 않을 수 있습니다."}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-xs sm:text-sm mb-2",children:"알림 유형"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{className:`px-3 py-1.5 text-sm rounded-full border ${"barrier"===l?"bg-blue-500 text-white":"bg-gray-100"}`,onClick:()=>B("barrier"),children:"결계 알림"}),r.jsx("button",{className:`px-3 py-1.5 text-sm rounded-full border ${"boss"===l?"bg-blue-500 text-white":"bg-gray-100"}`,onClick:()=>B("boss"),children:"보스 알림"}),r.jsx("button",{className:`px-3 py-1.5 text-sm rounded-full border ${"custom"===l?"bg-blue-500 text-white":"bg-gray-100"}`,onClick:()=>{B("custom"),j(!1)},children:"즉시 알림"})]}),(0,r.jsxs)("button",{className:"mt-2 text-xs text-blue-500 hover:text-blue-700 flex items-center",onClick:()=>j(!f),children:[r.jsx("span",{className:"mr-1",children:f?"▼":"▶"}),"사용자 정의 알림 설정"]})]}),"barrier"===l&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded border",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"알림 시간 설정"}),r.jsx("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center text-xs mb-1",children:[r.jsx("span",{className:"mr-2",children:"1차 알림:"}),r.jsx("input",{type:"number",min:"1",max:"60",className:"w-16 border px-2 py-1 rounded text-sm bg-white dark:bg-gray-600",value:c,onChange:e=>d(parseInt(e.target.value)||10)}),r.jsx("span",{className:"ml-1",children:"분 전"})]})}),r.jsx("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center text-xs",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:e=>p(e.target.checked),className:"mr-2"}),r.jsx("span",{children:"2차 알림 사용"})]})}),u&&r.jsx("div",{className:"mb-2 ml-5",children:(0,r.jsxs)("label",{className:"flex items-center text-xs mb-1",children:[r.jsx("span",{className:"mr-2",children:"2차 알림:"}),r.jsx("input",{type:"number",min:"1",max:"60",className:"w-16 border px-2 py-1 rounded text-sm bg-white dark:bg-gray-600",value:m,onChange:e=>x(parseInt(e.target.value)||5)}),r.jsx("span",{className:"ml-1",children:"분 전"})]})}),r.jsx("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center text-xs",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),className:"mr-2"}),r.jsx("span",{children:"결계 시작 시점에도 알림"})]})})]}),"boss"===l&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded border",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"보스 출현 알림 설정"}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs mb-2",children:"출현 시간 선택:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(e=>r.jsx("button",{className:`px-3 py-1 text-xs rounded-full border ${h.includes(e)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-600"}`,onClick:()=>T(e),children:e},e))})]}),r.jsx("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center text-xs mb-1",children:[r.jsx("span",{className:"mr-2",children:"1차 알림:"}),r.jsx("input",{type:"number",min:"1",max:"60",className:"w-16 border px-2 py-1 rounded text-sm bg-white dark:bg-gray-600",value:c,onChange:e=>d(parseInt(e.target.value)||10)}),r.jsx("span",{className:"ml-1",children:"분 전"})]})}),r.jsx("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center text-xs",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:e=>p(e.target.checked),className:"mr-2"}),r.jsx("span",{children:"2차 알림 사용"})]})}),u&&r.jsx("div",{className:"mb-2 ml-5",children:(0,r.jsxs)("label",{className:"flex items-center text-xs mb-1",children:[r.jsx("span",{className:"mr-2",children:"2차 알림:"}),r.jsx("input",{type:"number",min:"1",max:"60",className:"w-16 border px-2 py-1 rounded text-sm bg-white dark:bg-gray-600",value:m,onChange:e=>x(parseInt(e.target.value)||5)}),r.jsx("span",{className:"ml-1",children:"분 전"})]})}),r.jsx("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"flex items-center text-xs",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),className:"mr-2"}),r.jsx("span",{children:"보스 등장 시점에도 알림"})]})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"알림 내용"}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-xs mb-1",htmlFor:"push-title",children:"제목"}),r.jsx("input",{id:"push-title",className:"w-full border px-2 py-1 rounded text-sm bg-gray-50 dark:bg-gray-700",value:e,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-xs mb-1",htmlFor:"push-body",children:"내용"}),r.jsx("input",{id:"push-body",className:"w-full border px-2 py-1 rounded text-sm bg-gray-50 dark:bg-gray-700",value:t,onChange:e=>a(e.target.value)})]})]}),r.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded text-sm w-full transition",onClick:D,type:"button",children:"custom"===l?"즉시 알림 보내기":"알림 설정하기"}),f&&(0,r.jsxs)("div",{className:"mt-4 border-t pt-3",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"사용자 정의 알림 설정"}),(0,r.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded border",children:[(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-xs mb-1",htmlFor:"alarm-time",children:"알림 시간"}),r.jsx("input",{id:"alarm-time",type:"time",className:"w-full border px-2 py-1 rounded text-sm bg-white dark:bg-gray-600",value:v,onChange:e=>C(e.target.value)})]}),r.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded text-xs mt-1",onClick:()=>{if(!e.trim()){alert("알림 제목을 입력해주세요.");return}w([...k,{id:M,title:e,body:t,time:v}]),A(M+1)},type:"button",children:"알림 추가"})]}),k.length>0&&(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("h4",{className:"text-xs font-semibold mb-1",children:"설정된 알림 목록"}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:k.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-1 px-2 border-b text-xs",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold",children:e.title}),(0,r.jsxs)("div",{className:"text-gray-500",children:[e.time," • ",e.body]})]}),r.jsx("button",{className:"text-red-500 hover:text-red-700 ml-2",onClick:()=>F(e.id),children:"삭제"})]},e.id))})]})]}),r.jsx("audio",{ref:I,preload:"auto"})]})}var k=t(1067);let w=({open:e,title:s,description:t,confirmText:a="확인",cancelText:l="취소",onConfirm:i,onCancel:o})=>{let c=(0,n.useRef)(null),d=(0,n.useRef)(null),{glassEffectIntensity:m}=(0,k.fl)();return((0,n.useEffect)(()=>{if(!e)return;let s=e=>{"Escape"===e.key&&o()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,o]),(0,n.useEffect)(()=>{if(!e)return;let s=e=>{c.current&&!c.current.contains(e.target)&&o()};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[e,o]),(0,n.useEffect)(()=>{e&&d.current&&d.current.focus()},[e]),e)?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-transparent",children:(0,r.jsxs)("div",{ref:c,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-xs w-full px-4 py-4 animate-fadeIn glass-effect",style:{"--glass-effect-blur":`${m}px`},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[r.jsx("h2",{id:"modal-title",className:"text-lg font-bold mb-2 text-gray-900 dark:text-white",children:s}),t&&r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200 mb-4 whitespace-pre-line min-h-[2.5rem]",children:t}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx("button",{ref:d,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",onClick:o,type:"button",children:l}),r.jsx("button",{className:"px-3 py-1 rounded bg-red-500 hover:bg-red-600 text-white text-sm font-semibold",onClick:i,type:"button",children:a})]})]})}):null},M={blue:{bg:"#3B82F6",color:"#fff"},green:{bg:"#22C55E",color:"#fff"},pink:{bg:"#EC4899",color:"#fff"},orange:{bg:"#F59E42",color:"#fff"},purple:{bg:"#A78BFA",color:"#fff"},gray:{bg:"#6B7280",color:"#fff"},yellow:{bg:"#FACC15",color:"#fff"}};function A({size:e=32,accent:s="blue"}){let{bg:t,color:a}=M[s]||M.blue;return(0,r.jsxs)("svg",{width:e,height:e,viewBox:"0 0 40 40",fill:"none",children:[r.jsx("ellipse",{cx:"22",cy:"34",rx:"6",ry:"2",fill:"#000",fillOpacity:"0.12"}),(0,r.jsxs)("g",{transform:"rotate(-18 20 20)",children:[r.jsx("ellipse",{cx:"20",cy:"13",rx:"6",ry:"5",fill:a,stroke:t,strokeWidth:"2"}),r.jsx("rect",{x:"18.5",y:"13",width:"3",height:"10",rx:"1.5",fill:t}),r.jsx("rect",{x:"19.25",y:"22",width:"1.5",height:"5",rx:"0.75",fill:t}),r.jsx("ellipse",{cx:"21",cy:"12",rx:"1.2",ry:"0.7",fill:"#fff",fillOpacity:"0.5"})]})]})}t(22370);let I=()=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded shadow p-3 sm:p-4 mb-6",children:[r.jsx("div",{className:"flex items-center mb-2",children:r.jsx("span",{className:"font-bold mr-2",children:"내 캐릭터"})}),(0,r.jsxs)("div",{className:"text-gray-400 p-4",children:["캐릭터 정보를 불러오는 데 문제가 발생했습니다.",r.jsx("br",{}),"페이지를 새로고침하거나 나중에 다시 시도해주세요."]})]}),E=()=>(0,r.jsxs)("div",{className:"bg-blue-50 rounded shadow p-3 sm:p-4 mb-6",children:[r.jsx("div",{className:"flex items-center mb-2",children:r.jsx("span",{className:"font-bold mr-2 text-blue-700",children:"할 일 목록"})}),(0,r.jsxs)("div",{className:"text-gray-400 p-4 text-center",children:["할 일 정보를 불러오는 데 문제가 발생했습니다.",r.jsx("br",{}),"페이지를 새로고침하거나 나중에 다시 시도해주세요."]})]}),S=()=>{let{characters:e,selectedCharacterId:s,deleteCharacter:t,selectCharacter:a,addCharacter:l,updateCharacter:o}=i(),{servers:c}=function({game:e="mabinogi_mobile",initialServers:s=[],retryCount:t=3,retryDelay:r=1e3}={}){let[a,l]=(0,n.useState)(s),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[m,x]=(0,n.useState)(0);return{servers:a.length>0?a:s,isLoading:i,error:c,retryFetch:()=>x(0)}}({initialServers:["데이안","아이라","던컨","알리사","메이븐","라사","칼릭스"]}),[d,m]=(0,n.useState)(!1),[x,u]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[g,b]=(0,n.useState)(null),[y,f]=(0,n.useState)(""),[j,v]=(0,n.useState)(""),[N,C]=(0,n.useState)(""),[k,M]=(0,n.useState)(null),A=()=>{x.trim()&&(l({id:Math.random().toString(36).slice(2,10),type:"custom",name:x.trim(),server:p,level:1,experience:0,settings:{position:{x:0,y:0},size:"medium",opacity:1,isHidden:!1,useAnimation:!1,recordHistory:!1,theme:"default",notifications:{dailyTasks:!0,events:!0,notices:!0,bardBoard:!0,fashionItems:!0,guildNews:!0,popularPosts:!0},quietHours:{enabled:!1,start:0,end:0}}}),m(!1),u(""),h(""),C(""))},I=e=>{y.trim()&&(o(e,{name:y.trim(),server:j}),b(null),f(""),v(""))},E=e=>{b(e.id),f(e.name),v(e.server)};return(0,r.jsxs)("div",{className:"bg-gray-50 rounded shadow p-3 sm:p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[r.jsx("span",{className:"font-bold mr-2",children:"내 캐릭터"}),r.jsx("button",{type:"button",className:"ml-2 px-2 py-1 bg-green-500 text-white rounded text-sm flex items-center gap-1 hover:bg-green-600 transition-colors",onClick:()=>m(!0),disabled:d,children:"+ 추가"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[0===e.length&&r.jsx("div",{className:"w-full text-center py-3 bg-gray-50 rounded border border-gray-200",children:(0,r.jsxs)("span",{className:"text-gray-500",children:["아직 등록된 캐릭터가 없습니다. ",r.jsx("b",{children:"+ 추가"})," 버튼을 눌러 캐릭터를 등록해보세요!"]})}),e.map(e=>r.jsx("div",{className:`flex items-center px-3 py-2 rounded-ios-medium border transition-all ${s===e.id?"bg-ios-blue/15 border-ios-blue/80 shadow-sm":"bg-white/90 border-gray-200 hover:border-gray-300"} ${g===e.id?"w-full":"cursor-pointer"}`,onClick:()=>g!==e.id&&a(e.id),children:g===e.id?r.jsx("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsx("div",{className:"sm:col-span-1 md:col-span-2",children:r.jsx("input",{type:"text",value:y,onChange:e=>f(e.target.value),className:"border px-3 py-2 rounded-ios-full text-subhead w-full",onClick:e=>e.stopPropagation(),autoFocus:!0,placeholder:"캐릭터 이름",maxLength:20,onKeyDown:s=>{"Enter"===s.key&&I(e.id)}})}),r.jsx("div",{className:"sm:col-span-1 md:col-span-1",children:(0,r.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"border px-3 py-2 rounded-ios-full text-subhead w-full bg-white appearance-none",onClick:e=>e.stopPropagation(),children:[r.jsx("option",{value:"",children:"서버(선택)"}),c.map(e=>r.jsx("option",{value:e,children:e},e))]})}),(0,r.jsxs)("div",{className:"flex justify-end sm:col-span-2 md:col-span-1 gap-2",children:[r.jsx("button",{type:"button",className:"bg-ios-blue hover:bg-ios-blue/90 active:scale-[0.98] text-white rounded-ios-full px-4 py-2 text-subhead transition-all shadow-sm flex-1 sm:flex-none",onClick:s=>{s.stopPropagation(),I(e.id)},disabled:!y.trim(),children:"저장"}),r.jsx("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 active:scale-[0.98] text-gray-700 rounded-ios-full px-4 py-2 text-subhead transition-all dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex-1 sm:flex-none",onClick:e=>{e.stopPropagation(),b(null),f(""),v("")},children:"취소"})]})]})}):(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:e.name}),e.server&&r.jsx("span",{className:"text-footnote text-gray-500 ml-1.5",children:e.server}),r.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),E(e)},className:"p-1.5 text-gray-500 hover:text-ios-blue rounded-full hover:bg-gray-100/80 transition-colors dark:hover:bg-gray-700 dark:hover:text-ios-teal",title:"편집",children:(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),M(e)},className:"p-1.5 text-gray-500 hover:text-ios-red rounded-full hover:bg-gray-100/80 transition-colors dark:hover:bg-gray-700",title:"삭제",children:(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),r.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})},e.id))]}),d&&(0,r.jsxs)("div",{className:"border p-3 rounded-ios-medium bg-white/90 backdrop-blur-ios shadow-ios-sm mt-2",children:[N&&r.jsx("div",{className:"text-xs text-red-500 mb-1 text-left w-full",children:N}),(0,r.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full min-h-[44px]",children:[(0,r.jsxs)("div",{className:"relative",style:{minWidth:"6.5rem",maxWidth:"12rem"},children:[(0,r.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"block border px-2 py-1 pr-8 rounded-ios-full text-subhead bg-white",style:{width:`${(p?p.length:5)+5}ch`,minWidth:"6.5rem",maxWidth:"12rem"},children:[r.jsx("option",{value:"",children:"서버(선택)"}),c.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M5.23 7.21a.75.75 0 0 1 1.06.02L10 11.06l3.71-3.83a.75.75 0 1 1 1.08 1.04l-4.25 4.39a.75.75 0 0 1-1.08 0L5.21 8.27a.75.75 0 0 1 .02-1.06z"})})})]}),r.jsx("div",{className:"flex flex-col",children:r.jsx("input",{type:"text",value:x,onChange:e=>{let s=e.target.value;u(s),s.length>20?C("캐릭터명은 20자 이내로 입력해주세요."):C("")},className:`border px-2 py-1 rounded-ios-full text-subhead ${N?"border-red-400":""}`,placeholder:"캐릭터명 입력(20자 제한)",style:{minWidth:"12.5rem",width:`${Math.max(12.5,1.1*x.length+8)}ch`},maxLength:20,onKeyDown:e=>{"Enter"===e.key&&x.trim()&&!N&&A()},autoFocus:!0})}),(0,r.jsxs)("div",{className:"flex flex-row gap-1 min-w-[100px]",children:[r.jsx("button",{type:"button",className:`w-12 px-0 py-1 rounded-ios-full text-subhead transition-all shadow-sm text-sm ${!x.trim()||N?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-ios-blue hover:bg-ios-blue/90 text-white active:scale-[0.98]"}`,onClick:A,disabled:!x.trim()||!!N,children:"추가"}),r.jsx("button",{type:"button",className:"w-12 px-0 py-1 bg-gray-200 hover:bg-gray-300 active:scale-[0.98] text-gray-700 rounded-ios-full text-subhead transition-all dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 text-sm",onClick:()=>{m(!1),u(""),h(""),C("")},children:"취소"})]})]})]}),r.jsx(w,{open:!!k,title:"캐릭터 삭제 확인",description:`정말로 "${k?.name}" 캐릭터를 삭제하시겠습니까?
이 작업은 복구가 불가능합니다.`,confirmText:"영구 삭제",cancelText:"취소",onConfirm:()=>{k&&(t(k.id),M(null))},onCancel:()=>M(null)})]})},B=({characterId:e})=>{let[s,t]=(0,n.useState)(!0);return(0,r.jsxs)("div",{className:"bg-blue-50 rounded shadow p-3 sm:p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2 cursor-pointer select-none",onClick:()=>t(e=>!e),children:[r.jsx("span",{className:"font-bold mr-2 text-blue-700",children:"할 일 목록"}),r.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(일일/주간 미션 관리)"}),r.jsx("span",{className:"ml-auto",children:r.jsx(A,{size:28,bg:s?"#7C5CFA":"#2D2940",color:s?"white":"#6B7280"})})]}),s&&r.jsx(v,{children:r.jsx(j,{characterId:e})})]})};function T(){let{characters:e,selectedCharacterId:s}=i();return(0,r.jsxs)("div",{className:"w-[70vw] mx-auto flex flex-col items-center justify-center space-y-6 sm:space-y-8 py-4 sm:py-8",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-center text-blue-700 drop-shadow mb-2",children:"MMGG - 마비노기 모바일"}),(0,r.jsxs)("p",{className:"text-base sm:text-lg text-center text-gray-700 max-w-3xl px-2 mb-2",children:[r.jsx("span",{className:"font-bold text-blue-600",children:"마비노기 모바일"}),"의 모든 정보를 한 곳에서 쉽고 빠르게\uD83D\uDE0E",r.jsx("br",{}),"룬 도감, 코디 도감, 가이드를 확인해요."]}),(0,r.jsxs)("div",{className:"w-full max-w-3xl mx-auto px-2 sm:px-4",children:[r.jsx(v,{fallback:r.jsx(I,{}),children:r.jsx(n.Suspense,{fallback:r.jsx("div",{children:"캐릭터 정보 로딩 중..."}),children:r.jsx(S,{})})}),e.length>0?r.jsx(v,{fallback:r.jsx(E,{}),children:r.jsx(n.Suspense,{fallback:r.jsx("div",{children:"할 일 목록 정보 로딩 중..."}),children:r.jsx(B,{characterId:s||e[0].id})})}):(0,r.jsxs)("div",{className:"bg-blue-50 rounded shadow p-3 sm:p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[r.jsx("span",{className:"font-bold mr-2 text-blue-700",children:"할 일 목록"}),r.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(일일/주간 미션 관리)"}),r.jsx("span",{className:"ml-auto text-blue-500 text-lg",children:"▼"})]}),r.jsx("div",{className:"text-gray-400 text-sm text-center py-4",children:"캐릭터를 먼저 등록하면 할 일 목록을 사용할 수 있습니다."})]}),(0,r.jsxs)("div",{className:"bg-indigo-50 rounded shadow p-3 sm:p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[r.jsx("span",{className:"font-bold mr-2 text-indigo-700",children:"푸시 알림"}),r.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(보스/결계 알림 설정)"})]}),r.jsx(v,{children:r.jsx(n.Suspense,{fallback:r.jsx("div",{children:"알림 기능 로딩 중..."}),children:r.jsx(C,{})})})]})]})]})}},22370:()=>{},35480:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/s/Desktop/dev/mobi.gg/src/app/page.tsx#default`)}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,601,226,995],()=>t(57526));module.exports=r})();