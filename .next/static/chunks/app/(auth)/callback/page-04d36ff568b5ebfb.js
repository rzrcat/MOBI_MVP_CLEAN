(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{2014:function(e,t,r){Promise.resolve().then(r.bind(r,1826))},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},1826:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(7437),n=r(2265),a=r(9376),u=r(7026),i=r(257);let c=i.env.NEXT_PUBLIC_SUPABASE_URL||"",l=i.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",o=(0,u.eI)(c,l);function d(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{var t;let{data:{session:r},error:s}=await o.auth.getSession();if(s)throw s;if(!r)throw Error("세션을 찾을 수 없습니다.");let{error:n}=await o.from("users").upsert({id:r.user.id,sns_id:r.user.id,nickname:r.user.user_metadata.name||(null===(t=r.user.email)||void 0===t?void 0:t.split("@")[0])||"익명",avatar_url:r.user.user_metadata.avatar_url});if(n)throw n;e.push("/")}catch(t){console.error("인증 처리 오류:",t),r("인증 처리 중 문제가 발생했습니다."),setTimeout(()=>{e.push("/login")},3e3)}})()},[e]),t)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-4 text-red-600",children:t}),(0,s.jsx)("p",{className:"text-gray-600",children:"로그인 페이지로 이동합니다..."})]})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"로그인 처리 중..."})]})})}}},function(e){e.O(0,[830,971,117,744],function(){return e(e.s=2014)}),_N_E=e.O()}]);