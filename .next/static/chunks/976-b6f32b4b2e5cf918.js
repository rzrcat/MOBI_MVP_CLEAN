"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{5976:function(e,t,n){n.d(t,{z:function(){return c}});var r=n(7437),a=n(2265),o=n(4887);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=[];for(let e of t)e&&("string"==typeof e?r.push(e):"object"==typeof e&&Object.entries(e).forEach(e=>{let[t,n]=e;n&&r.push(t)}));return r.join(" ")}let i=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#808080","#A52A2A","#FFC0CB","#FFD700","#C0C0C0","#4B0082","#FF4500","#32CD32","#BA55D3","#20B2AA","#FF69B4","#CD853F","#4682B4","#DDA0DD","#F0E68C","#E6E6FA","#98FB98","#87CEEB","#D8BFD8","#FF6347","#40E0D0","#EE82EE","#F5DEB3","#6495ED"];function l(e){try{if(!e||"string"!=typeof e)return[0,0,0];let t=e.replace("#","");if(3===t.length)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==t.length)return[0,0,0];if(!/^[0-9A-Fa-f]{6}$/.test(t))return[0,0,0];let n=parseInt(t,16),r=n>>16&255,a=n>>8&255,o=255&n;return[isNaN(r)?0:Math.max(0,Math.min(255,r)),isNaN(a)?0:Math.max(0,Math.min(255,a)),isNaN(o)?0:Math.max(0,Math.min(255,o))]}catch(e){return[0,0,0]}}function u(e){let{value:t,onChange:n}=e,[o,s]=(0,a.useState)(270),[i,u]=(0,a.useState)(.7),[c,d]=(0,a.useState)(.8),h=(0,a.useRef)(null),m=(0,a.useRef)(null),f=(0,a.useRef)(!1),p=(0,a.useRef)(t||"#000000");function x(e,t,n){let r=function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(a,4-a,1),0)};return[Math.round(255*r(5)),Math.round(255*r(3)),Math.round(255*r(1))]}function g(e){let[t,n,r]=e;try{let e=isNaN(t)?0:Math.max(0,Math.min(255,Math.round(t))),a=isNaN(n)?0:Math.max(0,Math.min(255,Math.round(n))),o=isNaN(r)?0:Math.max(0,Math.min(255,Math.round(r)));return"#"+[e,a,o].map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase()}catch(e){return"#000000"}}(0,a.useEffect)(()=>{let e=t&&/^#[0-9A-Fa-f]{6}$/.test(t)?t:"#000000";if(p.current!==e&&!f.current){let[t,n,r]=function(e){try{if(!e||"string"!=typeof e||!/^#[0-9A-Fa-f]{6}$/.test(e))return[0,0,0];let[t,n,r]=l(e);if(0===t&&0===n&&0===r)return[0,0,0];let a=t/255,o=n/255,s=r/255,i=Math.max(a,o,s),u=Math.min(a,o,s),c=0,d=i,h=i-u,m=0===i?0:h/i;if(i===u)c=0;else{switch(i){case a:c=(o-s)/h+(o<s?6:0);break;case o:c=(s-a)/h+2;break;case s:c=(a-o)/h+4}c=Math.round(60*c)}return c=isNaN(c)?0:Math.max(0,Math.min(360,c)),m=isNaN(m)?0:Math.max(0,Math.min(1,m)),d=isNaN(d)?0:Math.max(0,Math.min(1,d)),[c,m,d]}catch(e){return[0,0,0]}}(e);s(t),u(n),d(r),p.current=e}},[t]);let v=(0,a.useRef)(null);function w(e){e.preventDefault(),e.stopPropagation(),f.current=!0;let t=e.currentTarget.getBoundingClientRect(),n=Math.max(0,Math.min(e.clientX-t.left,t.width)),r=Math.max(0,Math.min(e.clientY-t.top,t.height));u(n/t.width),d(1-r/t.height)}function M(e){e.preventDefault(),e.stopPropagation(),f.current=!0;let t=e.currentTarget.getBoundingClientRect();s(Math.max(0,Math.min(e.clientX-t.left,t.width))/t.width*360)}return(0,a.useEffect)(()=>(f.current&&(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{let e=g(x(o,i,c));e!==p.current&&(p.current=e,n(e))},20)),()=>{v.current&&clearTimeout(v.current)}),[o,i,c,n]),(0,a.useEffect)(()=>{let e=()=>{if(f.current){f.current=!1;let e=g(x(o,i,c));e!==p.current&&(p.current=e,n(e))}};return window.addEventListener("mouseup",e),()=>{window.removeEventListener("mouseup",e)}},[o,i,c,n]),x(o,i,c),(0,r.jsxs)("div",{className:"w-full max-w-[220px] mx-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{ref:h,className:"relative w-full aspect-square rounded-lg overflow-hidden cursor-crosshair",style:{backgroundImage:"linear-gradient(to right, #fff, hsl(".concat(o,", 100%, 50%)), linear-gradient(to top, #000, transparent)"),height:"160px"},onClick:w,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),w(e)},onMouseMove:e=>{1===e.buttons&&(e.preventDefault(),e.stopPropagation(),w(e))},children:(0,r.jsx)("div",{className:"absolute w-4 h-4 rounded-full border-2 border-white shadow",style:{left:"".concat(100*i,"%"),top:"".concat((1-c)*100,"%"),transform:"translate(-50%, -50%)",pointerEvents:"none",boxShadow:"0 0 0 1px #007AFF"}})}),(0,r.jsx)("div",{ref:m,className:"relative w-full h-4 mt-2 rounded-full overflow-hidden cursor-pointer",style:{background:"linear-gradient(to right, red, yellow, lime, cyan, blue, magenta, red)"},onClick:M,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),M(e)},onMouseMove:e=>{1===e.buttons&&(e.preventDefault(),e.stopPropagation(),M(e))},children:(0,r.jsx)("div",{className:"absolute top-1/2 w-4 h-4 rounded-full border-2 border-white shadow",style:{left:"".concat(o/360*100,"%"),transform:"translate(-50%, -50%)",pointerEvents:"none",boxShadow:"0 0 0 1px #007AFF"}})})]})}let c=e=>{let{value:t,onChange:n,onClose:c,label:d,id:h}=e,[m,f]=(0,a.useState)((null==t?void 0:t.split(":")[0])||"#000000"),[p,x]=(0,a.useState)(l((null==t?void 0:t.split(":")[0])||"#000000")),[g,v]=(0,a.useState)(!1),w=(0,a.useRef)(null),M=(0,a.useRef)(null),[N,b]=(0,a.useState)({left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),[F,y]=(0,a.useState)(!1),[j,E]=(0,a.useState)({x:0,y:0});(0,a.useEffect)(()=>{},[]),(0,a.useEffect)(()=>{let e=e=>{if(F&&w.current){e.preventDefault();let t=e.clientX-j.x,n=e.clientY-j.y,r=w.current.getBoundingClientRect();b({left:Math.max(0,Math.min(t,window.innerWidth-r.width))+"px",top:Math.max(0,Math.min(n,window.innerHeight-r.height))+"px",transform:"none"})}},t=()=>{y(!1)};return F&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[F,j]),(0,a.useEffect)(()=>{function e(e){w.current&&!w.current.contains(e.target)&&M.current&&!M.current.contains(e.target)&&(v(!1),c&&c())}return g?(document.addEventListener("mouseup",e),document.addEventListener("click",e),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("click",e)}):()=>{}},[g,c]),(0,a.useEffect)(()=>{let e=t&&/^#[0-9A-Fa-f]{6}$/.test(t)?t:"#000000";f(e),x(l(e))},[t]),(0,a.useEffect)(()=>{if(g&&M.current){let e=M.current.getBoundingClientRect(),t=window.innerWidth,n=window.innerHeight,r=e.left+e.width/2,a=e.bottom+10;r+140>t&&(r=t-280-10),r-140<0&&(r=150),a+480>n&&(a=e.top-480-10),b({left:r+"px",top:a+"px",transform:"translateX(-50%)"})}},[g]);let C=e=>{if(e&&e!==m){f(e),x(l(e));try{n(e)}catch(e){console.error("색상 변경 중 오류 발생:",e)}}},k=(e,t)=>{let n=Math.max(0,Math.min(255,Number(t.replace(/\D/g,"")))),r=[...p];r[e]=n,x(r);let a=function(e,t,n){try{let r=isNaN(e)?0:Math.max(0,Math.min(255,Math.round(e))),a=isNaN(t)?0:Math.max(0,Math.min(255,Math.round(t))),o=isNaN(n)?0:Math.max(0,Math.min(255,Math.round(n)));return"#"+[r,a,o].map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase()}catch(e){return"#000000"}}(r[0],r[1],r[2]);f(a),C(a)},D=async()=>{if(window.EyeDropper){let e=new window.EyeDropper;try{let t=await e.open();f(t.sRGBHex),x(l(t.sRGBHex)),C(t.sRGBHex)}catch(e){}}};return(0,r.jsxs)("div",{className:"relative inline-block",id:h,children:[(0,r.jsxs)("div",{ref:M,className:s("flex items-center gap-2 cursor-pointer py-1 px-2 border hover:bg-gray-50 rounded text-sm transition-all",{"border-blue-500":g}),onClick:e=>{e.preventDefault(),e.stopPropagation(),v(e=>!e)},children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full shadow-sm",style:{backgroundColor:m||"#000000",borderColor:m?"transparent":"#ccc"}}),d&&(0,r.jsx)("span",{className:"whitespace-nowrap truncate max-w-[120px] xs:max-w-none text-xs xs:text-sm",children:d})]}),g&&(0,o.createPortal)((0,r.jsxs)("div",{ref:w,className:s("fixed z-[9999] shadow-xl rounded-lg border border-gray-200 p-2 sm:p-3 bg-white w-[260px] sm:w-[280px]",{"translate-x-0 translate-y-0":!0}),style:{left:N.left,top:N.top,transform:N.transform,position:"fixed",pointerEvents:"auto"},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},children:[(0,r.jsx)("div",{className:"absolute top-1 right-1 p-1 hover:bg-gray-100 rounded-full cursor-pointer",onClick:e=>{e.stopPropagation(),v(!1),c&&c()},children:(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),(0,r.jsx)("div",{className:"picker-header absolute top-0 left-0 right-0 h-8 cursor-move flex items-center justify-center text-gray-400 text-xs",onMouseDown:e=>{if(e.target instanceof HTMLElement&&e.target.closest(".picker-header")){var t;y(!0);let n=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect();n&&E({x:e.clientX-n.left,y:e.clientY-n.top})}},onTouchStart:e=>{if(e.target instanceof HTMLElement&&e.target.closest(".picker-header")){var t;y(!0);let n=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect();n&&e.touches[0]&&E({x:e.touches[0].clientX-n.left,y:e.touches[0].clientY-n.top})}},children:(0,r.jsx)("div",{className:"w-8 h-1 bg-gray-200 rounded-full mt-1"})}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-3 items-center justify-between",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:m||"#000000"}}),(0,r.jsxs)("div",{className:"flex flex-1 gap-1 text-xs",children:[(0,r.jsx)("input",{type:"text",className:"w-full rounded border px-1 py-1 text-center font-mono focus:border-blue-500 focus:outline-none uppercase",value:m,onChange:e=>{let t=e.target.value;t.startsWith("#")||(t="#"+t),f(t),/^#[0-9A-Fa-f]{6}$/.test(t)&&(x(l(t)),C(t))},maxLength:7}),(0,r.jsx)("button",{onClick:D,className:"border text-gray-700 hover:bg-gray-100 p-1 rounded",title:"색상 추출 도구",children:(0,r.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})})]})]}),(0,r.jsx)("div",{className:"flex gap-1.5 mb-2",children:["R","G","B"].map((e,t)=>(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:e}),(0,r.jsx)("input",{className:"w-full border rounded p-1 text-center text-xs",type:"number",min:"0",max:"255",value:p[t],onChange:e=>k(t,e.target.value)})]},e))}),(0,r.jsx)("div",{className:s("flex flex-col gap-1"),children:(0,r.jsx)(u,{value:m,onChange:e=>C(e)})}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-500 mb-1 flex justify-between",children:[(0,r.jsx)("span",{children:"색상 팔레트"}),(0,r.jsx)("button",{onClick:()=>{i.includes(m.toUpperCase())||(x(l(m)),C(m))},className:"text-blue-500 text-xs hover:underline",children:"저장"})]}),(0,r.jsx)("div",{className:"grid grid-cols-9 gap-1",children:i.slice(0,36).map(e=>(0,r.jsx)("div",{className:"aspect-square rounded-sm cursor-pointer border hover:scale-110 transition-all",style:{backgroundColor:e},onClick:()=>C(e)},e))})]})]})]}),document.body)]})}}}]);